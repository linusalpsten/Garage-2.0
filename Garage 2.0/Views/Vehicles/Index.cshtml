@model IEnumerable<Garage_2._0.ViewModels.VehicleIndex>

@{
    ViewBag.Title = "Index";
}

<p>
    @Html.ActionLink(" ", "CheckIn", null,  new { @class = "btn btn-default glyphicon glyphicon-plus" })
</p>

<div class="panel panel-default">
    <div class="panel-heading">Parked cars</div>
    <div class="panel-body">
@using (Html.BeginForm("Find", "Vehicles"))
{
        <form>
            <div class="input-group">
                <input type="text" name="SearchString" pattern="[a-zA-Z]{3}\d{3}|[a-zA-Z]{1,8}" title="Registration number should have 3 letters followed by 3 numbers or 1 to 8 letters" class="form-control" placeholder="Search">
                <div class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                        <i class="glyphicon glyphicon-search"></i>
                    </button>
                </div>
            </div>
        </form>
}
    </div>
    <table class="table table-hover">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.RegistrationNumber)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Model)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.RegistrationNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Model)
                </td>
                <td>
                    @Html.ActionLink(" ", "Edit", new { id = item.Id }, new { @class = "glyphicon glyphicon-edit" }) |
                    @Html.ActionLink(" ", "Details", new { id = item.Id }, new { @class = "glyphicon glyphicon-info-sign" }) |
                    @Html.ActionLink(" ", "CheckOut", new { id = item.Id }, new { @class = "glyphicon glyphicon-road" })
                </td>
            </tr>
        }

    </table>
    <div class="panel-footer"></div>
</div>

<script src="~/Scripts/SortOnClick.js"></script>
@Html.ActionLink(" ", "RegNr", null, new { @id = "RegNr", @style = "display:none;" })
@Html.ActionLink(" ", "Model", null, new { @id = "Model", @style = "display:none;" })